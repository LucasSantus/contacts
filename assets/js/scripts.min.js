const body=document.querySelector("body"),checkbox=document.querySelector("input[name=theme]"),getStyle=(a,b)=>window.getComputedStyle(a).getPropertyValue(b),light_mode={bg:getStyle(body,"--bg"),colorPrimary:getStyle(body,"--color-primary"),colorSecondary:getStyle(body,"--color-secondary"),colorText:getStyle(body,"--color-text")},dark_mode={bg:"#202124",colorPrimary:"#333333",colorSecondary:"#434343",colorText:"white"},transformKey=a=>"--"+a.replace(/([A-Z])/g,"-$1").toLowerCase(),changeColors=a=>Object.keys(a).map(b=>body.style.setProperty(transformKey(b),a[b]));checkbox.addEventListener("change",({target:a})=>a.checked?changeColors(dark_mode):changeColors(light_mode));const isExistLocalStorage=a=>null!=localStorage.getItem(a),createOrEditLocalStorage=(a,b)=>localStorage.setItem(a,JSON.stringify(b)),getValeuLocalStorage=a=>JSON.parse(localStorage.getItem(a));checkbox.addEventListener("change",({target:a})=>{a.checked?(changeColors(dark_mode),createOrEditLocalStorage("theme","dark_mode")):(changeColors(light_mode),createOrEditLocalStorage("theme","light_mode"))}),isExistLocalStorage("theme")||createOrEditLocalStorage("theme","light_mode"),"light_mode"===getValeuLocalStorage("theme")?(checkbox.removeAttribute("checked"),changeColors(light_mode)):(checkbox.setAttribute("checked",""),changeColors(dark_mode))